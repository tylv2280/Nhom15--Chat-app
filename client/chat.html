<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chat</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <div id="appBanner" style="display:none" class="banner">
    <span id="bannerText">ƒêang kh·ªüi t·∫°o‚Ä¶</span>
    <span class="banner-actions">
      <button id="btnReload" class="btn btn-sm">T·∫£i l·∫°i d·ªØ li·ªáu</button>
      <button id="btnRelogin" class="btn btn-sm">ƒêƒÉng nh·∫≠p l·∫°i</button>
    </span>
  </div>
  <div id="loading" class="loading" style="display:none">ƒêang t·∫£i d·ªØ li·ªáu‚Ä¶</div>

  <div class="container">
    <aside class="sidebar">
      <section class="card">
        <div class="row between">
          <h3 class="section-title">T√¨m ng∆∞·ªùi d√πng</h3>
          <button id="btnTheme" class="btn btn-sm">üåô</button>
        </div>
        <input id="qUser" class="input" placeholder="Nh·∫≠p t√™n...">
        <button id="btnSearchUser" class="btn">T√¨m</button>
        <ul id="searchUsers" class="list"></ul>
      </section>
<section class="card">
  <h3 class="section-title">T√†i kho·∫£n c·ªßa t√¥i</h3>
  <div id="myInfo" class="col"></div>
</section>

      <section class="card">
        <h3 class="section-title">H·ªôi tho·∫°i g·∫ßn ƒë√¢y</h3>
        <div id="recentList" class="col"></div>
      </section>

      <section class="card">
        <h3 class="section-title">B·∫°n b√®</h3>
        <div id="friends" class="col"></div>
      </section>

      <section class="card">
        <h3 class="section-title">Nh√≥m c·ªßa t√¥i</h3>
        <ul id="groups" class="list"></ul>
      </section>

      <section class="card">
        <h3 class="section-title">T·∫°o nh√≥m</h3>
        <input id="groupName" class="input" placeholder="T√™n nh√≥m">
        <input id="groupMembers" class="input" placeholder="Th√†nh vi√™n: id1,id2,...">
        <div class="col">
          <label class="last-seen">Ch·ªçn b·∫°n b√® ƒë·ªÉ th√™m v√†o nh√≥m:</label>
          <div id="friendCheckboxList"></div>
        </div>
        <button id="btnCreateGroup" class="btn">T·∫°o nh√≥m</button>
      </section>

      <section class="card">
        <h3 class="section-title">Tham gia nh√≥m</h3>
        <input id="joinGroupId" class="input" placeholder="Nh·∫≠p groupId ho·∫∑c d√°n m√£ m·ªùi">
        <div class="row" style="gap:8px">
          <button id="btnJoinGroup" class="btn">Tham gia b·∫±ng ID</button>
          <button id="btnJoinInvite" class="btn">Tham gia b·∫±ng m√£ m·ªùi</button>
        </div>
      </section>
    </aside>

    <section class="card main">
      <div class="row between center">
        <h3 id="roomTitle" class="section-title">Ch∆∞a ch·ªçn cu·ªôc tr√≤ chuy·ªán</h3>
        <div class="row" style="gap:8px;align-items:center">
          <label class="last-seen"><input type="checkbox" id="enterSend"> Enter ƒë·ªÉ g·ª≠i</label>
          <button id="btnMulti" class="btn btn-sm">Ch·ªçn nhi·ªÅu</button>
          <button id="btnPinnedToggle" class="btn btn-sm">‚≠ê</button>
          <button id="soundToggle" class="btn btn-sm">üîî</button>
          <button id="btnMembers" class="btn" style="display:none;">Th√†nh vi√™n</button>
          <button id="btnInvite" class="btn" style="display:none;">T·∫°o m√£ m·ªùi</button>
          <button id="btnLeaveGroup" class="btn" style="display:none;">R·ªùi nh√≥m</button>
          <button id="btnToday" class="btn btn-sm">H√¥m nay</button>
          <button id="btnLogout" class="btn btn-sm">ƒêƒÉng xu·∫•t</button>
        </div>
      </div>

      <div class="row" style="gap:6px;margin-bottom:8px;">
        <input id="searchBox" class="input" placeholder="T√¨m trong cu·ªôc tr√≤ chuy·ªán...">
        <button id="btnSearchMsg" class="btn">T√¨m</button>
        <button id="btnHardReload" class="btn btn-sm">L√†m m·ªõi</button>
      </div>

      <div id="searchResults" class="card" style="display:none;margin-bottom:8px;">
        <h4>K·∫øt qu·∫£ t√¨m ki·∫øm</h4>
        <ul id="searchList" class="list"></ul>
      </div>

      <div id="pinnedPanel" class="card" style="display:none;margin-bottom:8px;">
        <h4>Tin ƒë√£ ghim</h4>
        <ul id="pinnedList" class="list"></ul>
      </div>

      <div id="messages" class="messages"></div>
      <button id="btnLoadMore" class="btn" style="display:none;margin-top:8px;">T·∫£i th√™m tin c≈©</button>
      <button id="btnScrollBottom" class="btn btn-sm">‚¨á Xu·ªëng cu·ªëi</button>
      <div id="typing" class="last-seen" style="min-height:16px;"></div>

      <div id="replyBar" class="row replybar" style="display:none;">
        <div id="replyInfo" style="flex:1"></div>
        <button id="replyCancel" class="btn btn-sm">‚úï</button>
      </div>

      <div class="row composer">
        <textarea id="msgInput" class="input msgarea" rows="2" placeholder="Nh·∫≠p tin nh·∫Øn..."></textarea>
        <div id="mentionList" class="mention"></div>
        <button id="emojiBtn" class="btn">üôÇ</button>
        <div id="emojiPanel" class="emojipanel"></div>
        <input id="fileInput" type="file" multiple class="input filepick">
        <button id="btnSend" class="btn">G·ª≠i</button>
      </div>
      <div id="selectedFiles" class="last-seen"></div>

      <div id="bulkBar" class="row bulkbar" style="display:none;">
        <span class="last-seen" id="bulkCount">0 ƒë√£ ch·ªçn</span>
        <button id="bulkPin" class="btn btn-sm">‚≠ê Ghim</button>
        <button id="bulkCopy" class="btn btn-sm">üìã Copy</button>
        <button id="bulkForward" class="btn btn-sm">‚Ü™ Chuy·ªÉn ti·∫øp</button>
        <button id="bulkHide" class="btn btn-sm">·∫®n</button>
      </div>

      <!-- ‚úÖ Panel qu·∫£n l√Ω nh√≥m -->
      <div id="membersPanel" class="card" style="display:none;margin-top:12px;">
        <h4>Th√†nh vi√™n (<span id="memberCount">0</span>)</h4>
        <ul id="membersList" class="list"></ul>

        <div class="row" style="gap:6px;margin-top:8px;">
          <input id="newMember" class="input" placeholder="Nh·∫≠p userId ƒë·ªÉ th√™m">
          <button id="btnAddMember" class="btn btn-sm">Th√™m</button>
        </div>

        <div class="row" style="gap:6px;margin-top:8px;">
          <input id="removeMember" class="input" placeholder="Nh·∫≠p userId ƒë·ªÉ xo√°">
          <button id="btnRemoveMember" class="btn btn-sm">Xo√°</button>
        </div>

        <div class="row" style="gap:6px;margin-top:8px;">
          <input id="inviteCode" class="input" placeholder="Nh·∫≠p m√£ m·ªùi ƒë·ªÉ tham gia">
          <button id="btnJoinByCode" class="btn btn-sm">Tham gia</button>
        </div>
      </div>
    </section>
  </div>

  <!-- Lightbox xem ·∫£nh -->
  <div id="lightbox" class="lightbox" style="display:none">
    <img id="lightboxImg" alt="">
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/enhance.js"></script>
    <script src="/js/chat.js"></script>
</body>
</html>
